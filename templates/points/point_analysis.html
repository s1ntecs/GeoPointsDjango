{% extends "base.html" %}
{% block content %}
  <h1>Анализ точек</h1>

  <h2>Получить данные из необходимой строки</h2>
  <form method="get" class="form-inline">
    <div class="form-group">
      <label for="row_number">Номер строки:</label>
      <input type="text" name="row_number" id="row_number" class="form-control" value="{{ row_number }}">
    </div>
    <button type="submit" class="btn btn-primary">Результат</button>
  </form>

  {% if row_data %}
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Точка</th>
          <th>X</th>
          <th>Y</th>
          <th>Z</th>
          <th>Часть</th>
          <th>Имя файла</th>
        </tr>
      </thead>
      <tbody>
        {% for point in row_data %}
          <tr>
            <td>{{ point.name }}</td>
            <td>{{ point.x }}</td>
            <td>{{ point.y }}</td>
            <td>{{ point.z }}</td>
            <td>{{ point.part.name }}</td>
            <td>{{ point.point_file.file_name }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% elif row_number %}
    <p>Нет данных для это строки.</p>
  {% endif %}

  <h2>Поулчить данные столбца</h2>
  <form method="get" class="form-inline">
    <div class="form-group">
      <label for="column_name">Буква Столбца (B, C, D):</label>
      <input type="text" name="column_name" id="column_name" class="form-control" value="{{ column_name }}">
    </div>
    <button type="submit" class="btn btn-primary">Результат</button>
  </form>

  {% if column_data %}
    <ul>
      {% for value in column_data %}
        <li>{{ value }}</li>
      {% endfor %}
    </ul>
  {% elif column_name %}
    <p>No data available for this column.</p>
  {% endif %}

  <h2>Поиск</h2>
  <form method="get" class="form-inline">
    <div class="form-group">
      <label for="search_word">Введите слово для поиска:</label>
      <input type="text" name="search_word" id="search_word" class="form-control" value="{{ search_word }}">
    </div>
    <button type="submit" class="btn btn-primary">Найти</button>
  </form>

  {% if word_locations %}
    <ul>
      {% for location in word_locations %}
        <li>{{ location }}</li>
      {% endfor %}
    </ul>
  {% elif search_word %}
    <p>No locations found for the word "{{ search_word }}".</p>
  {% endif %}

{% endblock %}